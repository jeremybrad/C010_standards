# Constitution Guardrail Validator Receipt

**Date**: 2026-01-12
**Operation**: Add constitution drift guardrail validator
**Operator**: Claude Code (Opus 4.5)

## Summary

Created `validators/check_constitution.py` - a drift guardrail validator that enforces documentation consistency for C010_standards. This validator prevents future documentation drift by catching violations at CI time.

## Changes Made

### New Validator: `validators/check_constitution.py`

Checks for 6 drift conditions:

1. **C000_info-center identity references** - Fails if C000_info-center appears outside 70_evidence/
2. **Exit code 99 references** - Fails if docs mention deprecated exit code 99
3. **Exit code contract consistency** - Warns if docs list 0/1 but not 2
4. **Validator run location** - Fails if docs recommend `cd validators` instead of repo root
5. **Python version consistency** - Fails if Python version differs from pyproject.toml (3.11+)
6. **KNOWN_PROJECTS.md path** - Fails if docs reference incorrect path (must use `70_evidence/workspace/`)

### Files Modified

| File | Changes |
|------|---------|
| `validators/check_constitution.py` | **NEW** - Constitution guardrail validator |
| `validators/__init__.py` | Added `constitution` to AVAILABLE_VALIDATORS |
| `docs/standards/CODE_TOUR.md` | Fixed `cd validators` → run from repo root |
| `AGENT_START_HERE.md` | Fixed KNOWN_PROJECTS.md paths (3 occurrences) |
| `README.md` | Fixed KNOWN_PROJECTS.md paths (5 occurrences) |
| `docs/standards/OPERATIONS.md` | Fixed KNOWN_PROJECTS.md paths (2 occurrences) |
| `10_docs/glossary.yaml` | Fixed KNOWN_PROJECTS.md paths (2 occurrences) |
| `PROJECT_PRIMER.md` | Regenerated (sha256:3f6ba82e5ba6) |

### Previous Receipt

The initial constitution sweep was completed earlier today (see `2026-01-12_constitution_sweep.md`). This receipt covers the follow-up work: creating the guardrail validator and fixing remaining path references.

## Constitution Truths Enforced

These are now machine-verified on every validator run:

1. **Repo Identity**: C010_standards is the canonical identity. C000_info-center only allowed in historical 70_evidence/.
2. **Exit Codes**: 0/1/2 only. No exit code 99.
3. **Run Location**: `python validators/run_all.py` from repo root.
4. **Python Version**: 3.11+ minimum (per pyproject.toml).
5. **Registry Paths**: `70_evidence/workspace/KNOWN_PROJECTS.md` is derived output. `registry/repos.yaml` is source of truth.

## Verification

### Validators Passed (7/7)
```
$ python validators/run_all.py
▶ Running houston_docmeta (check_houston_docmeta)
✅ DocMeta validation passed (0 docs)
✔ houston_docmeta passed
▶ Running houston_features (check_houston_features)
✅ Houston features validation passed
✔ houston_features passed
▶ Running houston_tools (check_houston_tools)
✅ Houston tools validation passed
✔ houston_tools passed
▶ Running houston_models (check_houston_models)
✅ Houston models validation passed
✔ houston_models passed
▶ Running houston_telemetry (check_houston_telemetry)
✅ Houston telemetry validation passed (no telemetry to validate)
✔ houston_telemetry passed
▶ Running repo_contract (check_repo_contract)
[OK] Repo contract validation passed
✔ repo_contract passed
▶ Running constitution (check_constitution)
✅ Constitution guardrail validation passed
✔ constitution passed
```

### Primer Regenerated
```
$ generate-project-primer C010_standards
Hash: sha256:3f6ba82e5ba6
Generated: 2026-01-12T23:47:06
```

## Acceptance Criteria Status

- [x] Constitution guardrail validator created
- [x] Validator wired into run_all.py (runs by default)
- [x] All 7 validators pass
- [x] No C000_info-center identity references in current docs
- [x] All docs use correct KNOWN_PROJECTS.md path
- [x] All docs use correct validator run location
- [x] PROJECT_PRIMER.md regenerated
- [x] Receipt created

---

*Receipt generated by Claude Code (Opus 4.5)*
*Verified by running validators*
